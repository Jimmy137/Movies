{% extends "./layout.html" %}
{% block body %}
    <div class="container">
        <div class="movies">
            {% for movie in movies %}
                <a href="{% url 'movie' movie.id %}" class="movie">
                    <div class="movie-inner">
                        <div class="movie-front">
                            <div class="movie-poster">
                                <img src="{{ movie.poster.url }}" alt={{ movie.name }}>
                            </div>
                        </div>
                        <div class="movie-back">
                            <div class="movie-poster">
                                <img src="{{ movie.poster.url }}" alt={{ movie.name }}>
                            </div>
                            <div class="movie-details">
                                <div class="movie-name">
                                    {{ movie.name }}
                                </div>
                                <div class="movie-year">
                                    {{ movie.year }}
                                </div>
                                <div class="movie-genres">
                                    {% for genre in movie.genres.all %}
                                            <div>{{ genre }}</div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    
                </a>
                <!-- <form action="{% url 'delete_movie' movie.id %}" method="POST">
                    {% csrf_token %}
                    <input type="submit" value="Delete">
                </form> -->
            {% endfor %}
        </div>
        
        <div class="form-container">
            <h2>Add Movie:</h2>
            <form action="{% url 'add_movie' %}" method='POST' enctype='multipart/form-data'>
                {% csrf_token %}
                <input type="text" name="movie">
                <input type="number" name="year" placeholder="year">
                <select name="director" id="directors">
                    <option disabled>Director</option>
                    {% for director in directors %}
                        <option value="{{ director.id }}">{{ director.name }}</option>
                    {% endfor %}
                </select>
                <select name="genre" id="genres" multiple>
                    <option disabled>Genre</option>
                    {% for genre in genres %}
                        <option value="{{ genre.id }}">{{ genre.name }}</option>
                    {% endfor %}
                </select>
                <input type="file" id="img" name="img" accept="image/*">
                <input type="submit">
            </form>
        </div>
    </div>
    
{% endblock %}